(this["webpackJsonpcrud-axios"]=this["webpackJsonpcrud-axios"]||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),m=a.n(s),i=(a(24),a(3)),l=a(14),c=a(15),o=a(16),u=a(17),d=a(18),b=(a(25),a(2)),f=a.n(b),h=function(e){return r.a.createElement("div",{className:"col-md-6",key:e.member.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.member.id),r.a.createElement("h5",{className:"card-title"},e.member.first_name),r.a.createElement("h5",{className:"card-title"},e.member.last_name),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.onEditHandlerChange(e.member)}},"Edit"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.deleteMember(e.member.id)}},"Delete"))))},E=function(e){return e.members.map((function(t){return r.a.createElement(h,{key:t.id,member:t,onEditHandlerChange:function(t){return e.onEditHandlerChange(t)},deleteMember:function(t){return e.deleteMember(t)}})}))},p=function(e){return r.a.createElement("form",{onSubmit:e.onSubmitHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"First Name"),r.a.createElement("input",{type:"text",name:"first_name",value:e.first_name,className:"form-control",onChange:e.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Last Name"),r.a.createElement("input",{type:"text",name:"last_name",value:e.last_name,className:"form-control",onChange:e.onChange})),r.a.createElement("button",{className:"btn btn-primary",disabled:e.buttonDisabled},"Submit"))},v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).onHandlerChange=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.onEditHandlerChange=function(t){e.setState({first_name:t.first_name,last_name:t.last_name,idSelected:t.id,formStatus:"edit"})},e.addMember=function(t,a){f.a.post(t,a).then((function(t){var a=Object(i.a)(e.state.members),n=t.data;a.push(n),e.setState({members:a,first_name:"",last_name:"",buttonDisabled:!1})})).catch((function(e){console.log(e)}))},e.editMember=function(t,a){f.a.put(t,a).then((function(t){var a=Object(i.a)(e.state.members),n=a.findIndex((function(t){return t.id===e.state.idSelected}));a[n].first_name=t.data.first_name,a[n].last_name=t.data.last_name,e.setState({members:a,first_name:"",last_name:"",formStatus:"create",buttonDisabled:!1})})).catch((function(e){console.log(e)}))},e.deleteMember=function(t){var a="https://reqres.in/api/users/".concat(t);f.a.delete(a).then((function(a){if(204===a.status){var n=Object(i.a)(e.state.members),r=n.findIndex((function(e){return e.id===t}));n.splice(r,1),e.setState({members:n})}})).catch((function(e){console.log(e)}))},e.onSubmitHandler=function(t){t.preventDefault(),e.setState({buttonDisabled:!0});var a="https://reqres.in/api/users",n={first_name:e.state.first_name,last_name:e.state.last_name};"create"===e.state.formStatus?e.addMember(a,n):(a="https://reqres.in/api/users/".concat(e.state.idSelected),e.editMember(a,n))},e.state={members:[],first_name:"",last_name:"",buttonDisabled:!1,idSelected:null,formStatus:"create"},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={first_name:this.state.first_name,last_name:this.state.last_name};f.a.get("https://reqres.in/api/users?page=1",t).then((function(t){e.setState({members:t.data.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return(r.a.createElement("div",{className:"container",style:{marginTop:50}},r.a.createElement("h1",null,"Developer"),r.a.createElement("div",{className:"row"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Member"),r.a.createElement("div",{className:"row"},r.a.createElement(E,{members:this.state.members,onEditHandlerChange:function(t){return e.onEditHandlerChange(t)},deleteMember:function(t){return e.deleteMember(t)}}))),r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,"Form ",this.state.formStatus),r.a.createElement(p,{onSubmitHandler:this.onSubmitHandler,first_name:this.state.first_name,last_name:this.state.last_name,onChange:this.onHandlerChange,buttonDisabled:this.state.buttonDisabled})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.16e2ab32.chunk.js.map